language: node_js
version: "~> 1.0.0"
node_js:
- 10.14.2
cache: yarn
jobs:
  include:
  - stage: npm-bundle
    script: yarn npm-bundle && npm version $TRAVIS_BRANCH --allow-same-version --allow-empty
    deploy:
    - provider: npm
      skip_cleanup: true
      email: bameyrick@gmail.com
      api_key:
        secure: onaeu1hJXKVPp8GvkVEjJ6XiieBP9D7iZuP8ijsmbF2K2QmcoKNdBlw29yqThF0+tbGxmDfGkGxfxiI9MRNbPBan+rE+3jc9DHdHv0RoqJmmKgnpB6hE0sb9vyA7gCHJBQHUP+FDqDVfYbUMCO3g0SnYEMqG+xi9HqLMWbdczgMhLJNmWV9c9v6Vs0IATaNLEOh4FSJ7Iad0Ux3mighiBgdJd6aZfrjig4/az5nvg/KVVUAOc3cnoXBtjA7+q+WCQLbtL2VDZA3c2zJvGbD3OUQ9otRQ17eEo5wt1de/QaJNHNoZzUFF+3xq7MqIv7j+mAdkfTdtuumFGkiPe3WgtWjBOwX4lyKrxwKH/n3woTKjQKic8LR7TsN/eb+0dJoICoS9fOrKlUWZGl6CbyAlpiaCrR0elp1w7ZYZOazXM28FUxR+x9fgHFi7Iq3h4dqSUwQJ4m0iuERP9sE0jlBWYnPIcr0t64fbuRXMM03UFdGsBpZa4qd5KBMVi16Qk7Q6jDhR7mylLwbw6QlYCvbjPyKQymr7xmM8HOSmQKzKrw6ztqCs42uYpVK8BVffShAVbR9HxJ/MwcSu0KYHhoA+BafjtXOSIKTjsYH6VuVZpdh35x5N9bXXb9HusIBeRGPZ+m7oB1dUx+nz1oeq7rBnHCMb9iZ0bV7x0dUMW27mpKI=
      on:
        tags: true
stages:
- name: npm-bundle
  if: tag IS present
